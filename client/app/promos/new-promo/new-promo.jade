#wrapper
  div(ng-include='"components/navbar/navbar.html"')
  #page-wrapper.form-promo(ng-controller="NewPromoCtrl")
    .row
        .col-lg-12.page-header
            h1 Nueva Promoción
          //
             /.col-lg-12
    .row
        .col-lg-12
            .panel.panel-default
              .panel-heading
                | Registro
              .panel-body
                .row
                  form.form(name='form', ng-submit='register(form)', novalidate='', enctype="multipart/form-data")
                    .col-lg-6

                      .form-group(ng-class='{ "has-success": form["title[es]"].$valid && submitted,\
                        "has-error": form["title[es]"].$invalid && submitted }')
                        label Título español
                        textarea.form-control(placeholder="Ejemplo: in buying medium pizza free 2 liter soda", type='text',
                        name='title[es]', ng-model='promo.title.es', required='')
                        p.help-block(ng-show='form["title[es]"].$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form["title[en]"].$valid && submitted,\
                        "has-error": form["title[en]"].$invalid && submitted }')
                        label Título inglés
                        textarea.form-control(placeholder="Ejemplo: En la compra de pizza mediana gratis un refresco de 2 litros", type='text',
                        name='title[en]', ng-model='promo.title.en', required='')
                        p.help-block(ng-show='form["title[en]"].$error.required && submitted')
                          | Error de validación de campo


                      .form-group(ng-class='{ "has-success": form["promo[en]"].$valid && submitted,\
                        "has-error": form["promo[en]"].$invalid && submitted }')
                        label Promoción inglés
                        input.form-control(placeholder="Ejemplo: 2x1", type='text',
                        name='promo[en]', ng-model='promo.promo.en', required='')
                        p.help-block(ng-show='form["promo[en]"].$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form["promo[es]"].$valid && submitted,\
                        "has-error": form["promo[es]"].$invalid && submitted }')
                        label Promoción Español
                        input.form-control(placeholder="Ejemplo: 2x1", type='text',
                        name='promo[es]', ng-model='promo.promo.es', required='')
                        p.help-block(ng-show='form["promo[es]"].$error.required && submitted')
                          | Error de validación de campo



                      .form-group(ng-class='{ "has-success": form["description[es]"].$valid && submitted,\
                        "has-error": form["description[es]"].$invalid && submitted }')
                        label Descripción
                        textarea.form-control(placeholder="Ejemplo: 2x1", type='text',
                        name='description[es]', ng-model='promo.description.es', required='')
                        p.help-block(ng-show='form["description[es]"].$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form["description[en]"].$valid && submitted,\
                        "has-error": form["description[en]"].$invalid && submitted }')
                        label Description
                        textarea.form-control(placeholder="Ejemplo: 2x1", type='text',
                        name='description[en]', ng-model='promo.description.en', required='')
                        p.help-block(ng-show='form["description[en]"].$error.required && submitted')
                          | Error de validación de campo



                      .form-group(ng-class='{ "has-success": form["restriction[es]"].$valid && submitted,\
                        "has-error": form["restriction[es]"].$invalid && submitted }')
                        label Restricción
                        textarea.form-control(placeholder="Ejemplo: 2x1", type='text',
                        name='restriction[es]', ng-model='promo.restriction.es', required='')
                        p.help-block(ng-show='form["restriction[es]"].$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form["restriction[en]"].$valid && submitted,\
                        "has-error": form["restriction[en]"].$invalid && submitted }')
                        label Restriction
                        textarea.form-control(placeholder="Ejemplo: 2x1", type='text',
                        name='restriction[en]', ng-model='promo.restriction.en', required='')
                        p.help-block(ng-show='form["restriction[en]"].$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form.owner.$valid && submitted,\
                        "has-error": form.owner.$invalid && submitted }')
                        label Empresa
                        select.form-control(type='text', name='owner', ng-model='promo.owner', required='')
                          option(value="") --- selecciona empresa ----
                          option(value="{{user._id}}" ng-repeat="user in users | orderBy:'name'") {{ user.name }}
                        p.help-block(ng-show='form.owner.$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form["category[0]"].$valid && submitted,\
                        "has-error": form["category[0]"].$invalid && submitted }')
                        label Categorías
                        select.form-control( type='text', name='category[0]', ng-model='promo.category[0]', required='')
                          option(value="") --- selecciona categoría ----
                          option(value="{{category._id}}" ng-repeat="category in categories | orderBy:'name'") {{ category.name }}
                        p.help-block(ng-show='form["category[0]"].$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form["category[1]"].$valid && submitted,\
                        "has-error": form["category[1]"].$invalid && submitted }')
                        label Sub Categoría
                        select.form-control(type='text', name='category[1]', ng-model='promo.category[1]')
                          option(value="") --- selecciona categoría ----
                          option(value="{{category._id}}" ng-repeat="category in categories | orderBy:'name'") {{ category.name }}
                        p.help-block(ng-show='form["category[1]"].$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form.price.$valid && submitted,\
                        "has-error": form.price.$invalid && submitted }')
                        label Precio $
                        input.form-control(placeholder="Ejemplo: 1500.35", type='text',
                        name='price', ng-model='promo.price', required='')
                        p.help-block(ng-show='form.price.$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form.dateStart.$valid && submitted,\
                        "has-error": form.dateStart.$invalid && submitted }')
                        label Fecha de Inicio
                        input.form-control(placeholder="Ejemplo: 2011-04-11", type='text',
                        name='dateStart', ng-model='promo.dateStart', required='')
                        p.help-block(ng-show='form.dateStart.$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form.dateEnd.$valid && submitted,\
                        "has-error": form.dateEnd.$invalid && submitted }')
                        label Fecha de Fin
                        input.form-control(placeholder="Ejemplo: 2015-04-11", type='text',
                        name='dateEnd', ng-model='promo.dateEnd', required='')
                        p.help-block(ng-show='form.dateEnd.$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form.currency.$valid && submitted,\
                        "has-error": form.currency.$invalid && submitted }')
                        label Moneda
                        select.form-control(type='text', name='currency', ng-model='promo.currency', required='')
                          option(value="MXN") Pesos Mexicanos
                          option(value="USD") Dolares Americanos
                        p.help-block(ng-show='form.currency.$error.required && submitted')
                          | Error de validación de campo



                      .form-group(ng-class='{ "has-success": form["url[es]"].$valid && submitted,\
                        "has-error": form["url[es]"].$invalid && submitted }')
                        label Url Español
                        input.form-control(placeholder="Ejemplo: martes-de-frescura-en-walmart", type='text',
                        name='url[es]', ng-model='promo.url.es', required='')
                        p.help-block(ng-show='form["url[es]"].$error.required && submitted')
                          | Error de validación de campo

                      .form-group(ng-class='{ "has-success": form["url[en]"].$valid && submitted,\
                        "has-error": form["url[en]"].$invalid && submitted }')
                        label Url Inglés
                        input.form-control(placeholder="Ejemplo: tuesday-freshness-in-walmart", type='text',
                        name='url[en]', ng-model='promo.url.en', required='')
                        p.help-block(ng-show='form["url[en]"].$error.required && submitted')
                          | Error de validación de campo


                    .col-lg-6
                      h1 Imágenes

                      p Principal
                      .form-group(ng-class='{ "has-success": form.imagemain.$valid && submitted,\
                        "has-error": form.imagemain.$invalid && submitted }')
                        input.fileInput.form-control(type='file', name="imagemain", ng-model="user.imagemain", valid-file="", required="", cropImg="imagemain")
                        .cropArea Imagen Original
                          img-crop(image='imagemain', result-image="imagemainCropped" area-type="rectangle" result-image-size="{w: 260, h: 280}")
                        div Imagen Delgada:
                        .cropped
                          img(ng-src='{{imagemainCropped}}')
                        .form-group(ng-class='{ "has-success": form["imagemaindesc[en]"].$valid && submitted,\
                        "has-error": form["imagemaindesc[en]"].$invalid && submitted }')
                          input.form-control(placeholder='Ejemplo: Mrs. taco chola', type='text',
                          name='imagemaindesc[en]', ng-model='user.imagemaindesc.en', required="")
                        .form-group(ng-class='{ "has-success": form["imagemaindesc[es]"].$valid && submitted,\
                        "has-error": form["imagemaindesc[es]"].$invalid && submitted }')
                          input.form-control(placeholder='Ejemplo: Los tacos doña chola', type='text',
                          name='imagemaindesc[es]', ng-model='user.imagemaindesc.es', required="")
                        p.help-block(ng-show='form.imagemain.$error.required && submitted')
                            | Error de validación de campo

                      p Gallería
                      input.form-control.fileInput(type='file', name="images" )
                      input.form-control(placeholder='Ejemplo: Las salsas chola', type='text',
                      name='imagesdesc[en]', ng-model='user.images[0].desc.en')
                      input.form-control(placeholder='Ejemplo: Las salsas chola', type='text',
                      name='imagesdesc[es]', ng-model='user.images[0].desc.es')

                      input.form-control(type='file', name="images")
                      input.form-control(placeholder='Ejemplo: Las salsas chola', type='text',
                      name='imagesdesc[en]', ng-model='user.images[1].desc.en')
                      input.form-control(placeholder='Ejemplo: Las salsas chola', type='text',
                      name='imagesdesc[es]', ng-model='user.images[1].desc.es')

                      input.form-control(type='file', name="images")
                      input.form-control(placeholder='Ejemplo: Las salsas chola', type='text',
                      name='imagesdesc[en]', ng-model='user.images[2].desc.en')
                      input.form-control(placeholder='Ejemplo: Las salsas chola', type='text',
                      name='imagesdesc[es]', ng-model='user.images[2].desc.es')

                      input.form-control(type='file', name="images")
                      input.form-control(placeholder='Ejemplo: Las salsas chola', type='text',
                      name='imagesdesc[en]', ng-model='user.images[3].desc.en')
                      input.form-control(placeholder='Ejemplo: Las salsas chola', type='text',
                      name='imagesdesc[es]', ng-model='user.images[3].desc.es')

                      input.form-control(type='file', name="images")
                      input.form-control(placeholder='Ejemplo: Las salsas chola', type='text',
                      name='imagesdesc[en]', ng-model='user.images[4].desc.en')
                      input.form-control(placeholder='Ejemplo: Las salsas chola', type='text',
                      name='imagesdesc[es]', ng-model='user.images[4].desc.es')

                      button.btn.btn-warning(type='reset') Reset Button
                      button.btn.btn-primary(type='submit') Submit Button

                  //
                     /.col-lg-6 (nested)
                //
                   /.row (nested)
              //
                 /.panel-body
            //
               /.panel
          //
             /.col-lg-12

